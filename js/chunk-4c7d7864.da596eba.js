(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c7d7864"],{"12e0":function(t,s,i){"use strict";i("8690")},"13ce":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"main"},[s("heads"),s("van-tabs",{staticClass:"tabs",attrs:{animated:"",swipeable:"","title-active-color":"#1F75D9","title-inactive-color":"#333"},on:{change:t.change}},t._l(t.list,(function(i,e){return s("van-tab",{key:e,attrs:{title:i.title}},[s("van-list",{attrs:{finished:t.list[e].finished,error:t.list[e].error,"error-text":"请求失败，点击重新加载","finished-text":"没有更多了"},on:{"update:error":function(s){return t.$set(t.list[e],"error",s)},load:function(s){return t.onLoad(e)}},model:{value:t.list[e].loading,callback:function(s){t.$set(t.list[e],"loading",s)},expression:"list[index].loading"}},t._l(t.list[e].items,(function(i,e){return s("div",{key:e,staticClass:"listing"},[s("div",{staticClass:"head"},[s("div",{staticClass:"type"},[t._v(t._s(t.$util.taskType(i.type)))]),s("div",{staticClass:"title"},[t._v(t._s(i.title))])]),s("div",{staticClass:"info"},[s("div",{staticClass:"tips"},[t._v(t._s(t.$util.bidStatus(i.log.type)))]),s("div",{staticClass:"times"},[t._v(t._s(t.$util.getUnixToDate("yyyy-mm-dd hh:mm",i.log.create_ts)))])]),s("div",{staticClass:"details",on:{click:function(s){return t.seeDetails(i.id)}}},[t._v("查看详情")]),0===i.status?s("div",{staticClass:"status matching"},[t._v("匹配中")]):1===i.status?s("div",{staticClass:"status matching"},[t._v("服务中")]):2===i.status?s("div",{staticClass:"status success"},[t._v("已完成")]):3===i.status?s("div",{staticClass:"status end"},[t._v("已暂停")]):4===i.status?s("div",{staticClass:"status open"},[t._v("已关闭")]):t._e()])})),0)],1)})),1)],1)},a=[],n=i("0c6d"),r={data(){return{user_id:localStorage.getItem("userId"),DateNow:new Date((new Date).toLocaleDateString()).getTime(),cursor:"",list:[{title:"全部",status:-1,items:[],refreshing:!1,loading:!1,error:!1,finished:!1},{title:"匹配中",status:0,items:[],refreshing:!1,loading:!1,error:!1,finished:!1},{title:"服务中",status:1,items:[],refreshing:!1,loading:!1,error:!1,finished:!1},{title:"已完成",status:2,items:[],refreshing:!1,loading:!1,error:!1,finished:!1}]}},methods:{change(){this.cursor=""},async onLoad(t){const s=this.list[t];s.loading=!0;let i=await Object(n["q"])({cursor:this.cursor,user_id:this.user_id,status:s.status});s.refreshing&&(s.items=[],s.refreshing=!1),i.data.length&&i.data.forEach(t=>{t.begin_time+864e5<this.DateNow&&(t.my_status=3,t.status=3)}),s.items=s.items.concat(i.data),s.loading=!1,s.refreshing=!1,0===i.data.length?s.finished=!0:this.cursor=i.data[i.data.length-1].create_ts,console.log(s.items,i)},onRefresh(t){this.list[t].finished=!1,onLoad(t)},seeDetails(t){this.$router.push({path:"demandDetails",query:{id:t}})}}},l=r,o=(i("12e0"),i("0b56")),d=Object(o["a"])(l,e,a,!1,null,"75d32052",null);s["default"]=d.exports},8690:function(t,s,i){}}]);
//# sourceMappingURL=chunk-4c7d7864.da596eba.js.map