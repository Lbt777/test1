(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-530915e0"],{"05cb":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAABGBAMAAABWEiv6AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAhUExURUdwTDIyMi8vLy8vLy0tLS8vLy8vLy8vLy8vLzAwMDAwMDvn71EAAAAKdFJOUwAT7NUqokK/flxLx/CKAAAAy0lEQVQ4y72UoQ7CQBBElwQodSQV/ADqHBZ14QvQKIJEFUdQaBS6sg3QzldSy+yQSxrCyslLen07WbPPyc/GU2HPEBApOqKlZBpwpeiAByXjgC1FGweNAkqKCrzmBK1xImiBhqELVgRlDrIdlpRMUMckNEPNom54OsjZrNB5v/e0Xwi/7RC/Aur9WtJv8TO/5q0oyi9UfVG8S71e/KMyIXxJzLtXGxJ7VNsWnVDNEf1SLVQqRaMVlv3BeDnYuMPEzfliPKavnLqF/bwBq6hlKoNNU1QAAAAASUVORK5CYII="},"469f":function(t,e,a){"use strict";a("dd86")},c6bb:function(t,e,a){"use strict";a.r(e);a("59e8"),a("129c");var n,s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-view"},[e("div",{staticClass:"head-fixed base-flex-between"},[e("div",{staticClass:"left-wrap flex-center"},[e("div",{staticClass:"left-box flex-item-center",on:{click:t.navBack}},[e("img",{staticClass:"remove-icon",attrs:{src:a("05cb"),alt:""}})])]),e("div",{staticClass:"center-wrap"},[t._v("我的团队")]),e("div",{staticClass:"right-wrap"})]),e("div",{staticClass:"head-place"}),e("div",{staticClass:"section-wrap"},[e("div",{staticClass:"group-one-wrap base-flex-between"},[e("div",{staticClass:"one-box1"},[e("div",{staticClass:"text1"},[t._v("直推100贡献度以上人数")]),e("div",{staticClass:"inner1"},[e("span",{staticClass:"text2"},[t._v(t._s(t.teamList.referrerCountContribute))]),e("span",{staticClass:"text3"},[t._v("人")])])]),e("div",{staticClass:"one-box2"},[e("div",{staticClass:"one-box3"},[e("div",{staticClass:"text3"},[t._v("直推人数")]),e("div",{staticClass:"inner2"},[e("span",{staticClass:"text4"},[t._v(t._s(t.teamList.referrerCount))]),e("span",{staticClass:"text5"},[t._v("人")])])]),e("div",{staticClass:"one-box4"},[e("div",{staticClass:"text3"},[t._v("团队人数")]),e("div",{staticClass:"inner2"},[e("span",{staticClass:"text4"},[t._v(t._s(t.teamList.teamCount))]),e("span",{staticClass:"text5"},[t._v("人")])])])])]),e("div",{staticClass:"group-two-wrap"},[t._m(0),t._l(t.recordList,(function(a,n){return e("div",{key:n,staticClass:"two-box3 flex-center"},[e("div",{staticClass:"inner1"},[t._v(t._s(n+1))]),e("div",{staticClass:"inner4 flex-center"},[e("div",{staticClass:"inner2"},[t._v(t._s(a.address.slice(0,5))+"..."+t._s(a.address.slice(-5)))]),e("div",{staticClass:"inner3"},[t._v(t._s(a.amount.toFixed(2))+"U")])])])}))],2)]),t.DrawBtnNew?e("div",{staticClass:"winflbg uni-transition flex-item-center",class:t.bgClassNew,on:{click:t.hideDrasNew}},[e("div",{staticClass:"draw-content-1",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"remove-box",on:{click:t.hideDrasNew}},[e("img",{staticClass:"remove-icon",attrs:{src:a("0c23"),alt:""}})]),2==t.contentType?e("div",[e("div",{staticClass:"inner-wrap4"},[e("div",{staticClass:"title"},[t._v(t._s(t.i18n.text39)+" ")]),e("div",{staticClass:"line"}),e("div",{staticClass:"inner-box-four1"},[e("div",{staticClass:"one-inner-4"},[e("span",{staticClass:"text1"},[t._v(t._s(t.i18n.text40)+" ")]),e("span",{staticClass:"text2"},[t._v(t._s(t.account))])])]),e("div",{staticClass:"inner-box4",on:{click:t.login}},[t._v(t._s(t.i18n.text41)+" ")])])]):t._e()])]):t._e()])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"two-box2 flex-center"},[e("div",{staticClass:"inner1"},[t._v("序号")]),e("div",{staticClass:"inner2"},[t._v("钱包")]),e("div",{staticClass:"inner3"},[t._v("认购金额")])])}],r=a("a8f8"),c=a("a235"),o=a("0f2b"),l=(a("5750"),a("9c57"),a("a698"),a("0086"),a("afba"),a("022c"),a("0623"),a("6821"),a("b7e2"),a("3279"),a("51d1"),a("97d3")),u=a.n(l),d=(a("8c1b"),a("365c")),h=a("58d0"),p=a("9faf"),f=a("b253"),w=a("612c"),v=a("5cae"),b=(n={data:function(){return{web3:null,fromAddress:null,usdtAddress:window.globalData.usdtAddress,dysAddresss:window.globalData.dysAddresss,mainAddresss:window.globalData.mainAddresss,usdtContract:null,leaderContract:null,dappMainContract:null,langType:"",langBtn:!1,drawClass:"slide-left-in",headStyle:"background:transparent;",bgBtn:!1,bgClass:"fade-in",bgClassNew:"fade-in",swiperIndex:0,DrawBtnNew:!1,account:"",myInviteUrl:"",tabIndex:0,headerOpacity:"rgba(17,13,53,0)",recordList:[],inviterCount:0,leaderCost:0,twoNum:0,teamList:""}},watch:{"$route.path":{immediate:!0,handler:function(t,e){}}},components:{},created:function(){this.langType=localStorage.getItem("langType");var t=this.getParameterByName("invite","");t&&(this.shareAddress=t),this.getWeb3Connection(),this.getAccountInfo()},mounted:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){clearInterval(this.timer),this.timer=null},computed:{i18n:function(){return this.langType=localStorage.getItem("langType"),this.$t("message")}}},Object(r["a"])(n,"destroyed",(function(){})),Object(r["a"])(n,"methods",{queryTeam:function(){var t=this;return Object(o["a"])(Object(c["a"])().mark((function e(){var a;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["u"])();case 2:a=e.sent,200==a.status&&(t.teamList=a.data);case 4:case"end":return e.stop()}}),e)})))()},handleScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=150,a=t>e?150:t;this.headerOpacity="rgba(17,13,53,".concat(a*(1/e),")")},navBack:function(){this.$router.back()},getoneNum:function(){var t=this;this.dappMainContract.methods.getPairToUsdt(h.pow(1e7,18)).call().then((function(e,a){e&&(t.oneNum=h.parseNumber(e,18)/1e7,console.log(t.oneNum,"oneNum"))}))},getTeamInfo:function(){var t=this;Object(d["k"])().then((function(e){if(200==e.status){t.recordList=e.data.children,t.inviterCount=e.data.inviterCount,t.leaderCost=e.data.leaderCost;var a=0;e.data.children.forEach((function(t,e){a+=t.cost})),t.twoNum=a}else 401==e.status&&t.hasToken()}))},stakePair:function(){var t=this;return Object(o["a"])(Object(c["a"])().mark((function e(){var a,n,s;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.zyLpNum){e.next=3;break}return t.$toast(t.i18n.text65),e.abrupt("return");case 3:if(!(Number(t.zyLpNum)<0)){e.next=6;break}return t.$toast(t.i18n.text66),e.abrupt("return");case 6:if(!(Number(t.zyLpNum)>Number(t.lpAmount))){e.next=9;break}return t.$toast(t.i18n.text67),e.abrupt("return");case 9:return e.next=11,t.dappMainContract.methods.getPairToUsdt(h.pow(t.zyLpNum,18)).call();case 11:if(a=e.sent,!(Number(a)<100)){e.next=15;break}return t.$toast(t.i18n.text85),e.abrupt("return");case 15:if(!(Number(h.parseNumber(a,18))<t.totalAmountU)){e.next=18;break}return t.$toast(t.i18n.text68),e.abrupt("return");case 18:return e.next=20,t.lpContract.methods.allowance(t.account,t.dappMainAddress).call();case 20:if(n=e.sent,s=h.parseNumber(n,18),console.log(s),t.$toast.loading({message:"loading...",forbidClick:!0,duration:0}),!(s<Number(t.zyLpNum))){e.next=29;break}return e.next=27,t.lpContract.methods.approve(t.dappMainAddress,h.pow(1e8,18)).send({from:t.account}).then(function(){var e=Object(o["a"])(Object(c["a"])().mark((function e(a){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.lpContract.methods.stakePair(h.pow(t.zyLpNum,18),0==t.timeIndex?3:1==t.timeIndex?6:2==t.timeIndex?9:3==t.timeIndex?12:3).send({from:t.account}).then(function(){var e=Object(o["a"])(Object(c["a"])().mark((function e(a){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$toast.clear(),t.$toast(t.i18n.text69),t.getInitData(),t.hideDrasNew();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$toast.clear()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$toast.clear()}));case 27:e.next=31;break;case 29:return e.next=31,t.dappMainContract.methods.stakePair(h.pow(t.zyLpNum,18),0==t.timeIndex?3:1==t.timeIndex?6:2==t.timeIndex?9:3==t.timeIndex?12:3).send({from:t.account}).then(function(){var e=Object(o["a"])(Object(c["a"])().mark((function e(a){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$toast.clear(),t.$toast(t.i18n.text69),t.getInitData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$toast.clear()}));case 31:case"end":return e.stop()}}),e)})))()},hasToken:function(){this.DrawBtnNew&&2==this.contentType||this.showDrawNew(2)},getUserInfo:function(){var t=this;Object(d["getUserInfo"])().then(function(){var e=Object(o["a"])(Object(c["a"])().mark((function e(a){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:200==a.status?(t.selfData=a.data,t.power=a.data.power,t.inviterPower=a.data.inviterPower,t.reward=a.data.reward,t.shareConfirm()):401==a.status&&t.hasToken();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},login:function(){var t=this;this.$toast.loading({message:"loading...",forbidClick:!0,duration:0}),Object(d["s"])(this.account).then(function(){var e=Object(o["a"])(Object(c["a"])().mark((function e(a){var n,s;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(a,"res"),200!=a.status){e.next=9;break}return e.next=4,t.web3.eth.personal.sign("welcome to Leader, pls sign this message to login! NONCE: "+a.data,t.account).then();case 4:n=e.sent,s={address:t.account,sign:n},Object(d["t"])(s).then(function(){var e=Object(o["a"])(Object(c["a"])().mark((function e(a){var n;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$toast.clear(),200==a.status&&(t.$toast(t.i18n.text75),t.hideDras(),n=localStorage.getItem("tokenList"),n?(n=JSON.parse(n),console.log(n,"tokenList"),n[t.account]=a.data,localStorage.setItem("tokenList",JSON.stringify(n))):localStorage.setItem("tokenList",JSON.stringify(Object(r["a"])({},t.account,a.data))),localStorage.setItem("token",a.data),t.getInitData(),t.hideDrasNew());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=10;break;case 9:t.$toast.clear();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},showDrawNew:function(t){var e=this;this.contentType=t,this.DrawBtnNew=!0,setTimeout((function(){e.bgClassNew="fade-active"}),0)},hideDrasNew:function(){var t=this;this.bgClassNew="fade-in",setTimeout((function(){t.DrawBtnNew=!1}),330)},showDraw:function(){var t=this;this.bgBtn=!0,this.leftDrawBtn=!0,setTimeout((function(){t.bgClass="fade-active",t.drawClass="slide-right-active"}),0)},hideDras:function(){var t=this;this.bgClass="fade-in",this.drawClass="slide-left-in",setTimeout((function(){t.bgBtn=!1,t.leftDrawBtn=!1}),330)},getInitData:function(){var t=this;return Object(o["a"])(Object(c["a"])().mark((function e(){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.queryTeam();case 2:return e.next=4,t.childList();case 4:t.isData=!0;case 5:case"end":return e.stop()}}),e)})))()},childList:function(){var t=this;return Object(o["a"])(Object(c["a"])().mark((function e(){var a;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["d"])();case 2:a=e.sent,200==a.status&&(t.recordList=a.data);case 4:case"end":return e.stop()}}),e)})))()},getWeb3Connection:function(){if(void 0==this.web3){var t=v.newBlockchainConnection(u.a.givenProvider);"success"==t.type?this.web3=v.newBlockchainConnection(u.a.givenProvider).web3Instant:this.$dialog.alert({title:this.i18n.text83,message:this.i18n.text84,theme:"round-button"}).then((function(){}))}else this.getAccountInfo()},getAccountInfo:function(){var t=this;this.web3.eth.requestAccounts().then((function(e){t.account=e[0],t.myInviteUrl=window.location.protocol+"//"+window.location.host+"/#/?invite="+t.account,console.log(t.account,"account"),t.web3.eth.getBalance(t.account).then((function(e){console.log(e,"abi"),t.balance=h.parseNumber(e,18),console.log(t.balance,"balance")})),t.usdtContract=new t.web3.eth.Contract(p.usdt,t.usdtAddress),t.leaderContract=new t.web3.eth.Contract(f.leader,t.leaderAddresss),t.dappMainContract=new t.web3.eth.Contract(w.main,t.mainAddresss);var a=localStorage.getItem("tokenList");a&&(a=JSON.parse(a),console.log(a,"tokenList"),a.hasOwnProperty(t.account)&&(localStorage.setItem("token",a[t.account]),t.getInitData()))}))},changLang:function(t){"en"==this.langType?(this._i18n.locale="ch",localStorage.setItem("langType","ch"),this.langType="ch"):"ch"==this.langType&&(this._i18n.locale="en",localStorage.setItem("langType","en"),this.langType="en"),this.hideDras()},getParameterByName:function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),n=a.exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},copy:function(t){var e=t,a=this;this.$copyText(e).then((function(t){a.$toast(a.i18n.text1)}),(function(t){console.log(t)}))}}),n),m=b,g=(a("469f"),a("3427")),C=Object(g["a"])(m,s,i,!1,null,"96ffde68",null);e["default"]=C.exports},dd86:function(t,e,a){}}]);