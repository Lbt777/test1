import{t as oa}from"./index.57133cf9.js";import{d as K,D as ia,l as da,c as ca,a as D,r as u,w as ra,o as ua,z as va,s as fa,q as ma,x as q,K as S,n as U,b as ga,e as _a,f as a,j as h,C as R,h as A,g as t,E as Q,F as ha,M as pa,T as v,O,V as Aa,v as wa,a3 as Ba,a4 as ka,W as ba,Y as ya,p as Ta,k as Fa,t as J,_ as Ca}from"./index.ca884bc4.js";/* empty css              *//* empty css               *//* empty css               */import{_ as Da}from"./_plugin-vue_export-helper.cdc0426e.js";const P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4BAMAAADLSivhAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAhUExURfvvof/rk//iZf/vnP/smf/hYf/qiv/lcf/1zf/tnf///ygDW7QAAAAFdFJOUwLv71y1OQzGeQAAA8BJREFUWMPN2c9q2zAcB3CX9AUGY5DbFga7BloGvaWsDHrsWlnJbjnEjnvaYKqaB0jn+DQocZw+gaunnP9FlqWfZNnZYb+zP3z1k2XFsRynqrOryzft9WE0Gl2dOc0aXO73++FeLq9ZPs2L0Ldj0Z6rLqtYsvRQn+aT2p5CFI4tCwdcD4YWsaKlFM0PI7/oMuSybXTzXAX3sAgFY12w12qR+6fAw465FBU1r6c6sJ6ryqKbCTRqO4tQPu7r7PISlQNosYTjXxnuMVnVuBs3Km639aARwmN5aTYH7esHndXEORFSleDlE9Zb9EOabGmuohTrBp3VbYmDKlua6YCxrT44w9eGmV4yttYHo7sGloL9F8Zesdaibw0sL4+IsbQVB/C6dBkTmyYqHuqDpzlea4MPOM7T5bVF7nPMmybIlCwHkyjHvGlkwsoOULTMmyZGrDyJ0xKvdcECVoLLlg9NEyNWHsWy5aywJrjEAbj3VC2XTRNkSpaD8aHlsulO2Octl00jE1Z3at5yfqeJEas7Jm85bxqZMLDdTmu87oap0HLWNDJiNbhuOWvaiGNjy4wtuuAseCritQlLNgt6eBHxK7XED9TzkpBJFW58Da5HTb0gCSMGVbqJfQjzH6ZAjayz89p7VIOTiBkqrGqza+Bq1CsTZWnIawHgZS/sdUwmAPZfbFoOw7XYM79RKzuMQGyKToHgHNeLa2WDkQYboqHgJvYeOgVn+J1nEZ1CwRLWdg0Gy9i/NwdvTVjTdQoGK9hfmka9NeMAR9bBCvbIo3WwiqkarQtWe6ZqtC4YwEr0IXiDLLAcrQ2GMEWRXbCCSf4K8QLN1lM7Lt6aImhVb+ywOGNpV+yCe2bYiv0mFm1IrPAMtJZ4Ctpw0QWHUm2t8Hcg1gYvaPESFYVArdtwsUaWIVi/j8FPVjg5AlMN3ljh8AiMRZCYlhiAXfF6nPTG2YoU9MICz/jVPs6/ASW9sI+L1z2utxb4sbp2d/hT41pinO+8ta1eNF3N+lSTq9W5E/8Eut1wafn/KRdcn0DPSW3r9+OZHc6fi536V38GrE8wOcbAN4aZFV7FCPy6sbJZJATpP6u0P5L6L0n/KQ6OSvap/nvhPx/212OSj8B3zuf++PY4fOL1nrH3zml/PHEGvTEeO80bTTrgmeP0v1f5x/GLvjg/yTiN+2G3OIEZ9sPz8hAk7jPduDx/GfTC1fFLI5pajtt95kdO3ZvmR07ihFvilXBUds6XmY9tmv75pXnA12HGcPOArzhaLA8PR631kR8t/gVDYPYseSU7TgAAAABJRU5ErkJggg==",V=w=>(Ta("data-v-79592f39"),w=w(),Fa(),w),Sa={class:"page"},Ra={class:"mian"},Oa={class:"dividends"},Va={class:"hed"},Na={class:"uleft"},Pa={class:"unam"},Ea={class:"val"},Ia={class:"slide"},La={class:"item"},Ma={class:"name"},$a={class:"num"},Ga={class:"item"},Ya={class:"name"},za={class:"num"},Ha={class:"receive"},ja={class:"item van-hairline--right"},Wa={class:"left"},Za=V(()=>a("div",{class:"icon"},[a("img",{src:P,alt:""})],-1)),qa={class:"name"},Ua={class:"num"},Qa={class:"item"},Ja={class:"left"},Ka=V(()=>a("div",{class:"icon"},[a("img",{src:P,alt:""})],-1)),Xa={class:"name"},xa={class:"num"},ae={class:"item"},ee={class:"left"},se=V(()=>a("div",{class:"icon"},[a("img",{src:P,alt:""})],-1)),te={class:"name"},ne={class:"num"},le={class:"total"},oe={class:"r"},ie={class:"na"},de={class:"num"},ce={class:"receive top22"},re={class:"info"},ue={class:"tit"},ve=V(()=>a("span",null,null,-1)),fe={class:"lpTips"},me={class:"info"},ge={class:"info"},_e={class:"info"},he={class:"info"},pe={class:"fieldStyle"},Ae=K({name:"Dividends"}),we=K({...Ae,setup(w){let X={myStatus:!1,total:0,rate:0,myCoin:0,allNetTotal:0,totalSumBalance:0,inviterCount:0,teamCount:0,childSumBalance:0};const x=ia.Component,aa=da(),d=ca(),ea=D(()=>J(d.nonce)),{proxy:sa}=pa(),B=D(()=>d.contractInstance),E=D(()=>d.gk),k=D(()=>J(d.address)),n=u({nfBalanceDividend:0,nfBalanceMining:0,gkBalance2:0,gkBalance3:0,gkBalance4:0}),o=u(X),ta=u(1),b=u(!1),c=u(""),f=u(""),I=u();ra(ea,(e,s)=>{Ca(d,async l=>{l&&(console.log("\u5DF2\u767B\u5F55"),y())})}),ua(async()=>{d.nonce!==null&&sa.userAuthorization(d,e=>{e&&(console.log("\u5DF2\u767B\u5F55"),y())})});const na=async()=>{if(!f.value)v(O("inputAddress"));else{v.loading({duration:0,forbidClick:!0,message:O("loading")}),console.log("\u8F93\u5165\u5730\u5740",f.value);let e=await Aa(f.value);console.log("\u7236\u7EA7",e),e.status==200?la():(console.log(c.value=="Reward"?"nf":"gk"),i(c.value=="Reward"?"nf":"gk",!1),setTimeout(()=>{v.clear()},1500))}},la=()=>{try{B.value.methods.setInviter(f.value).send({from:k.value}).then(async e=>{console.log("setInviter",e),v(O("bangSuccess")),y(),c.value=="Reward"?m.dividends=!1:m.reward3=!1}).catch(e=>{console.log(e),v.clear(),i(c.value=="Reward"?"nf":"gk",!1)})}catch{v.clear(),i(c.value=="Reward"?"nf":"gk",!1)}},y=async()=>{B.value.methods.pageView(k.value).call().then(async e=>{console.log("pageView",e),I.value=e;let s=await va();s.status==200&&(n.value=s.data,s.data.nfBalanceDividend+s.data.nfBalanceMining>0?p.dividends=!1:p.dividends=!0,s.data.gkBalance2+s.data.gkBalance3+s.data.gkBalance4>0?p.reward3=!1:p.reward3=!0);let l=await fa();l.status==200&&(o.value=Object.assign(o.value,l.data));let g=await ma();if(g.status==200){console.log(g.data);let N=["0x000000000000000000000000000000000000dEaD",wa],T=await B.value.methods.pageView(k.value).call(),_=await E.value.methods.totalSupply().call();for await(let F of N){let C=await E.value.methods.balanceOf(F).call();_=_-C}o.value.allNetTotal=q(_,18),g.data.level1&&(o.value.myStatus=!0,o.value.myCoin=S(q(T.balance,18),5))}}).catch(e=>{console.log(e)})},L=async e=>{if(e=="nf"){if(c.value="Reward",!(n.value.nfBalanceDividend+n.value.nfBalanceMining>0))return}else c.value=="gk";if(i(e),I.value.inviter.indexOf("0x000000")!=-1)b.value=!0;else{let s=await Ba(e);if(console.log(s),s.status==200)try{B.value.methods.claimReward(s.data.tokenAddress,s.data.address,s.data.amount,s.data.sign).send({from:k.value}).then(l=>{console.log("inviterReward",l),v(O("RewardSuccess")),i(e,!1),y()}).catch(l=>{console.log(l),i(e,!1)})}catch{i(e,!1)}else i(e,!1)}},i=(e,s=!0)=>{e=="nf"?m.dividends=s:m.reward3=s},m=U({dividends:!1,reward3:!1}),p=U({dividends:!0,reward3:!0});return(e,s)=>{var T,_,F,C,$,G,Y,z,H,j,W,Z;const l=ka,g=ba,M=ya,N=oa;return ga(),_a(ha,null,[a("div",Sa,[h(l,{class:"title",title:e.$t("dividends"),fixed:"",placeholder:"",border:!1},{right:R(()=>[a("span",{class:"rew",onClick:s[0]||(s[0]=r=>A(aa).push("reward"))},t(e.$t("RewardRed")),1)]),_:1},8,["title"]),a("div",Ra,[a("div",Oa,[a("div",Va,[a("div",Na,[a("div",Pa,t(e.$t("zong"))+"Never fall",1),a("div",Ea,t(A(S)(((T=n.value)==null?void 0:T.nfBalanceDividend)+((_=n.value)==null?void 0:_.nfBalanceMining),4)||0),1)]),h(g,{loading:m.dividends,plain:"",hairline:"",color:"#fff",round:"",size:"small",onClick:s[1]||(s[1]=r=>L("nf"))},{default:R(()=>[Q(t(e.$t("Reward")),1)]),_:1},8,["loading"])]),a("div",Ia,[a("div",La,[a("div",Ma,t(e.$t("DividendsB")),1),a("div",$a,t(A(S)((F=n.value)==null?void 0:F.nfBalanceDividend,4)||0),1)]),a("div",Ga,[a("div",Ya,t(e.$t("dugUp")),1),a("div",za,t(A(S)((C=n.value)==null?void 0:C.nfBalanceMining,4)||0),1)])])]),a("div",Ha,[a("div",ja,[a("div",Wa,[Za,a("div",qa,t(e.$t("dividends2star")),1)]),a("div",Ua,t((($=n.value)==null?void 0:$.gkBalance2)||0),1)]),a("div",Qa,[a("div",Ja,[Ka,a("div",Xa,t(e.$t("dividends3star")),1)]),a("div",xa,t(((G=n.value)==null?void 0:G.gkBalance3)||0),1)]),a("div",ae,[a("div",ee,[se,a("div",te,t(e.$t("dividends4star")),1)]),a("div",ne,t(((Y=n.value)==null?void 0:Y.gkBalance4)||0),1)]),a("div",le,[a("div",oe,[a("div",ie,t(e.$t("totals"))+"\uFF1A",1),a("div",de,t(((z=n.value)==null?void 0:z.gkBalance2)+((H=n.value)==null?void 0:H.gkBalance3)+((j=n.value)==null?void 0:j.gkBalance4)||0),1),h(g,{loading:m.reward3,disabled:p.reward3,type:"primary",round:"",size:"small",color:"#2560F9",onClick:s[2]||(s[2]=r=>L("gk"))},{default:R(()=>[Q(t(e.$t("liji")),1)]),_:1},8,["loading","disabled"])])])]),a("div",ce,[a("div",re,[a("span",ue,t(e.$t("kcInfo")),1),ve]),a("div",fe,t(e.$t("kcTips")),1),a("div",me,[a("span",null,t(e.$t("kcTotal",{num:ta.value}))+"\uFF1A",1),a("span",null,t(((W=o.value)==null?void 0:W.totalSumBalance)||0),1)]),a("div",ge,[a("span",null,t(e.$t("kcMyStatus"))+"\uFF1A",1),a("span",null,t(o.value.myStatus?e.$t("loadings"):e.$t("false")||e.$t("false")),1)]),a("div",_e,[a("span",null,t(e.$t("kcMyX"))+"\uFF1A",1),a("span",null,t(o.value.childSumBalance||0),1)]),a("div",he,[a("span",null,t(e.$t("kcMyB"))+"\uFF1A",1),a("span",null,t(((Z=o.value)==null?void 0:Z.rate)*100||0)+"%",1)])])])]),h(A(x),{show:b.value,"onUpdate:show":s[4]||(s[4]=r=>b.value=r),title:e.$t("bangd"),"show-cancel-button":"",confirmButtonColor:"#1F75D9",onCancel:s[5]||(s[5]=r=>b.value=!1),onConfirm:na,confirmButtonText:e.$t("Confirm"),cancelButtonText:e.$t("cancel")},{default:R(()=>[a("div",pe,[h(M,{modelValue:f.value,"onUpdate:modelValue":s[3]||(s[3]=r=>f.value=r),label:"",placeholder:e.$t("inputAddress")},null,8,["modelValue","placeholder"])])]),_:1},8,["show","title","confirmButtonText","cancelButtonText"]),h(N,{active:"1"})],64)}}});const Ce=Da(we,[["__scopeId","data-v-79592f39"]]);export{Ce as default};
