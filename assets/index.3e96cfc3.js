import{d as y,j as L,r as l,f as v,l as o,n as f,a as g,q as a,K as i,F as k,N,a3 as $,a2 as V,a4 as F,k as U,Y as w,v as n,L as z,T as A,Q as E,S as j,V as q,y as D,z as K}from"./index.37b98bde.js";import{c as P}from"./BNUtils.2a1e562b.js";/* empty css              */import{_ as Q}from"./_plugin-vue_export-helper.cdc0426e.js";const Y=""+new URL("cions.b44469d2.png",import.meta.url).href,G=c=>(D("data-v-c704d7da"),c=c(),K(),c),H={class:"main"},J={class:"info"},M=G(()=>a("div",{class:"leftIcon"},[a("img",{src:Y,alt:""})],-1)),O={class:"values"},W={class:"infoUp"},X={class:"value"},Z={class:"unit"},ee={class:"time"},se={key:1,class:"btnText"},ae=y({name:"reward"}),te=y({...ae,setup(c){const p=L(),x=()=>history.back(),d=l([]),r=l(!1),m=l(!1),R=v(()=>p.contractInstance),S=v(()=>U(p.address)),_=l(1),h=async()=>{let e=await $({page:_.value}),s=e.data;e.status==200&&(_.value==1&&(d.value=[]),r.value=!1,s.records.forEach(u=>{u.loading=!1}),d.value=d.value.concat(s.records),s.records.length<20?m.value=!0:_.value++)},b=async e=>{console.log(e.tokenAddress,e.address,e.amount,e.sign),e.loading=!0;try{R.value.methods.claimReward(e.tokenAddress,e.address,e.amount,e.sign).send({from:S.value}).then(s=>{console.log("inviterReward",s),A(E("RewardSuccess")),e.loading=!1,h()}).catch(s=>{console.log(s),e.loading=!1})}catch{e.loading=!1}};return(e,s)=>{const u=V,I=j,T=q,B=F;return o(),f(k,null,[g(u,{class:"title",title:e.$t("RewardRed"),fixed:"",placeholder:"",border:!1,"left-arrow":"",onClickLeft:x},null,8,["title"]),a("div",H,[g(B,{loading:r.value,"onUpdate:loading":s[0]||(s[0]=t=>r.value=t),finished:m.value,"finished-text":e.$t("finishedText"),onLoad:h},{default:i(()=>[(o(!0),f(k,null,N(d.value,(t,C)=>(o(),w(T,{class:"cell",key:C},{title:i(()=>[a("div",J,[M,a("div",O,[a("div",W,[a("div",X,n(P(t.amount,18)),1),a("div",Z,n(t.tokenName),1)]),a("div",ee,n(t.createdTime),1)])])]),"right-icon":i(()=>[t.unavailable==0?(o(),w(I,{key:0,class:"btn",loading:t.loading,type:"primary",round:"",size:"small",color:"#2560F9",onClick:oe=>b(t)},{default:i(()=>[z(n(e.$t("Reward")),1)]),_:2},1032,["loading","onClick"])):(o(),f("div",se,n(e.$t("RewardSuccess")),1))]),_:2},1024))),128))]),_:1},8,["loading","finished","finished-text"])])],64)}}});const ie=Q(te,[["__scopeId","data-v-c704d7da"]]);export{ie as default};
