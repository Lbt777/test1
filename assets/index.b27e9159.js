import{d as U,r as u,u as $,ab as z,X as M,e as d,f as m,g as f,F as k,k as Q,j as B,B as R,t as p,m as j,aS as E,a0 as x,a1 as T,aT as K,K as L,M as O,H,l as i,h as D,U as W,a5 as X,y as J,z as P,A as Y}from"./index.c7aca455.js";/* empty css              *//* empty css               */import{_ as Z,a as ss,b as es,c as as,d as _s,e as ts,f as ns,g as os,h as ls,i as is,j as gs,k as cs,l as us,m as vs,n as ps,o as rs,p as bs,q as ds,r as ms,s as fs,t as hs,u as Cs,v as ws,w as Ts,x as Ss,y as ys,z as ks,A as Bs,B as xs,C as Ds,D as Us,E as Vs,F as qs,G as Is,H as Ns,I as As,J as Fs,K as Gs,L as $s,M as zs,N as Ms,O as Qs,P as Rs,Q as js,R as Es,S as Ks,T as Ls,U as Os,V as Hs,W as Ws,X as Xs,Y as Js,Z as Ps}from"./zhuanzeng.bdfd4e6c.js";import{_ as Ys}from"./head_down.472857a1.js";const Zs=(g,c)=>{let h=c||500,l;return function(){let v=arguments;l&&clearTimeout(l),l=setTimeout(()=>{l=null,g.apply(this,v)},h)}},se=g=>(J("data-v-f2a7e4b5"),g=g(),P(),g),ee={key:0,class:"main"},ae={class:"blance"},_e={class:"sles"},te={class:"img"},ne=["src"],oe=["onClick"],le=se(()=>i("div",{class:"rig"},[i("img",{src:Ys,alt:""})],-1)),ie=U({name:"exchange"}),ge=U({...ie,setup(g){const c=u(!0),h=$(),l=u(!1),v=u(0),e=u([]),t=u([{name:"GQC",img:"gqcNew",balance:0,value:""},{name:"SCT",img:"sct",balance:0,value:""},{name:"USDT",img:"usdt",balance:0,value:""}]),r=u([]),V=()=>{h.push("exchangeRecords")},q=(s,a)=>{v.value=s,S(s,a),l.value=!0},S=(s,a)=>{r.value.length===0&&(r.value=t.value);let n=[];if(t.value=r.value,s===0)n=t.value.filter(o=>o.name!=="USDT"),a.name==="SCT"&&(e.value[1]=t.value.filter(o=>o.name==="USDT")[0]);else if(s===1){let o=[];e.value[0].name==="SCT"?o=["SCT","GQC"]:o=["GQC"],n=t.value.filter(C=>!o.includes(C.name))}else n=r.value;t.value=n},I=async()=>{(await E({fromToken:e.value[0].name,fromAmount:+e.value[0].value,toToken:e.value[1].name})).status===200&&(e.value[0].value="",e.value[1].value="",c.value=!0,y(),x(T("exchange")+T("Success")))},N=s=>{e.value[v.value]=s,S(v.value,s)},A=Zs(async(s,a)=>{if(s===1||!a)return;if(+a>e.value[0].balance){x(T("credit")),e.value[1].value="",c.value=!0;return}console.log(e.value);let n=await K({fromToken:e.value[0].name,fromAmount:+a,toToken:e.value[1].name});n.status===200&&(e.value[1].value=n.data,c.value=!1)},500);z(async()=>{await y(),e.value=t.value.filter(s=>s.name!=="USDT")});async function y(){let s=await M();t.value.forEach(a=>{a.name==="GQC"?a.balance=s.data.gqcBalance:a.name==="SCT"?a.balance=s.data.sctBalance:a.name==="USDT"&&(a.balance=s.data.usdtBalance)})}const F=s=>new URL(Object.assign({"../../assets/D_bg.png":Z,"../../assets/D_bg_nft.png":ss,"../../assets/D_img.png":es,"../../assets/Invitation.png":as,"../../assets/assets.png":_s,"../../assets/assets_a.png":ts,"../../assets/assetss_bg.png":ns,"../../assets/banner.png":os,"../../assets/banner1.png":ls,"../../assets/bg.png":is,"../../assets/blindBox.png":gs,"../../assets/blindBox_g.png":cs,"../../assets/choice.png":us,"../../assets/chongzhi.png":vs,"../../assets/coins.png":ps,"../../assets/copy.png":rs,"../../assets/copyW.png":bs,"../../assets/cqc.png":ds,"../../assets/gqcNew.png":ms,"../../assets/guadan.png":fs,"../../assets/guquanbi.png":hs,"../../assets/guquanquan.png":Cs,"../../assets/head_down.png":ws,"../../assets/head_language.png":Ts,"../../assets/huo0.png":Ss,"../../assets/huo1.png":ys,"../../assets/huo2.png":ks,"../../assets/huo3.png":Bs,"../../assets/invitationBg.png":xs,"../../assets/invitationCardBg.png":Ds,"../../assets/jiaoyimingxi.png":Us,"../../assets/line.png":Vs,"../../assets/loading.png":qs,"../../assets/mode1.png":Is,"../../assets/mode2.png":Ns,"../../assets/nav.png":As,"../../assets/noMore.png":Fs,"../../assets/r_wusd.png":Gs,"../../assets/s_left.png":$s,"../../assets/s_rig.png":zs,"../../assets/sct.png":Ms,"../../assets/success.png":Qs,"../../assets/suipian.png":Rs,"../../assets/tixian.png":js,"../../assets/transaction.png":Es,"../../assets/transactionBG.png":Ks,"../../assets/transaction_a.png":Ls,"../../assets/unChoice.png":Os,"../../assets/usdt.png":Hs,"../../assets/w_down.png":Ws,"../../assets/withdrawal.png":Xs,"../../assets/wusd.png":Js,"../../assets/zhuanzeng.png":Ps})[`../../assets/${s}.png`],self.location).href;return(s,a)=>{const n=L,o=X,C=O,G=H;return d(),m(k,null,[f(n,{right:!0,onClickRight:V}),e.value.length?(d(),m("div",ee,[(d(!0),m(k,null,Q(e.value,(_,b)=>(d(),m("div",{class:"box",key:b},[i("div",ae,p(s.$t("balance"))+"\uFF1A"+p(D(W)(_.balance))+" "+p(_.name),1),f(o,{class:"input",modelValue:_.value,"onUpdate:modelValue":[w=>_.value=w,w=>D(A)(b,_.value)],center:"","input-align":"right",clearable:"",placeholder:"0.00",disabled:b===1},{label:B(()=>[i("div",_e,[i("div",te,[i("img",{src:F(_.img),alt:""},null,8,ne)]),i("div",{class:"type",onClick:w=>q(b,_)},p(_.name),9,oe),le])]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]))),128)),f(C,{class:"btn",color:"#1F75D9",disabled:c.value,block:"",onClick:I},{default:B(()=>[R(p(s.$t("Confirm")),1)]),_:1},8,["disabled"])])):j("",!0),f(G,{show:l.value,"onUpdate:show":a[0]||(a[0]=_=>l.value=_),actions:t.value,"close-on-click-action":"",onSelect:N,"cancel-text":s.$t("cancel")},null,8,["show","actions","cancel-text"])],64)}}});const be=Y(ge,[["__scopeId","data-v-f2a7e4b5"]]);export{be as default};
