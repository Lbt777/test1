import{d as y,c as N,r as l,a as g,b as o,e as p,j as v,f as a,C as i,F as k,J as $,a5 as L,a4 as E,a6 as F,t as V,G as w,g as n,h as A,K as D,x as K,E as U,T as j,O as z,W as G,a7 as J,p as O,k as P}from"./index.ca884bc4.js";/* empty css               *//* empty css              *//* empty css               */import{_ as W}from"./cions.ab25bd24.js";import{_ as q}from"./_plugin-vue_export-helper.cdc0426e.js";const H=c=>(O("data-v-497b1537"),c=c(),P(),c),M={class:"main"},Q={class:"info"},X=H(()=>a("div",{class:"leftIcon"},[a("img",{src:W,alt:""})],-1)),Y={class:"values"},Z={class:"infoUp"},ee={class:"value"},se={class:"unit"},ae={class:"time"},te={key:1,class:"btnText"},oe=y({name:"reward"}),ne=y({...oe,setup(c){const f=N(),b=()=>history.back(),d=l([]),r=l(!1),m=l(!1),x=g(()=>f.contractInstance),R=g(()=>V(f.address)),_=l(1),h=async()=>{let e=await L({page:_.value}),s=e.data;e.status==200&&(_.value==1&&(d.value=[]),r.value=!1,s.records.forEach(u=>{u.loading=!1}),d.value=d.value.concat(s.records),s.records.length<20?m.value=!0:_.value++)},S=async e=>{console.log(e.tokenAddress,e.address,e.amount,e.sign),e.loading=!0;try{x.value.methods.claimReward(e.tokenAddress,e.address,e.amount,e.sign).send({from:R.value}).then(s=>{console.log("inviterReward",s),j(z("RewardSuccess")),e.loading=!1,h()}).catch(s=>{console.log(s),e.loading=!1})}catch{e.loading=!1}};return(e,s)=>{const u=E,C=G,I=J,T=F;return o(),p(k,null,[v(u,{class:"title",title:e.$t("RewardRed"),fixed:"",placeholder:"",border:!1,"left-arrow":"",onClickLeft:b},null,8,["title"]),a("div",M,[v(T,{loading:r.value,"onUpdate:loading":s[0]||(s[0]=t=>r.value=t),finished:m.value,"finished-text":e.$t("finishedText"),onLoad:h},{default:i(()=>[(o(!0),p(k,null,$(d.value,(t,B)=>(o(),w(I,{class:"cell",key:B},{title:i(()=>[a("div",Q,[X,a("div",Y,[a("div",Z,[a("div",ee,n(A(D)(K(t.amount,18),4)),1),a("div",se,n(t.tokenName),1)]),a("div",ae,n(t.createdTime),1)])])]),"right-icon":i(()=>[t.unavailable==0?(o(),w(C,{key:0,class:"btn",loading:t.loading,type:"primary",round:"",size:"small",color:"#2560F9",onClick:ce=>S(t)},{default:i(()=>[U(n(e.$t("Reward")),1)]),_:2},1032,["loading","onClick"])):(o(),p("div",te,n(e.$t("RewardSuccess")),1))]),_:2},1024))),128))]),_:1},8,["loading","finished","finished-text"])])],64)}}});const pe=q(ne,[["__scopeId","data-v-497b1537"]]);export{pe as default};
